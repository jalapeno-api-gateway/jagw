"use strict";(self.webpackChunkjalapeno_api_gateway_documentation=self.webpackChunkjalapeno_api_gateway_documentation||[]).push([[6803],{5680:(e,a,n)=>{n.d(a,{xA:()=>c,yg:()=>d});var t=n(6540);function l(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function r(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function o(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?r(Object(n),!0).forEach((function(a){l(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function i(e,a){if(null==e)return{};var n,t,l=function(e,a){if(null==e)return{};var n,t,l={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(l[n]=e[n]);return l}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s=t.createContext({}),p=function(e){var a=t.useContext(s),n=a;return e&&(n="function"==typeof e?e(a):o(o({},a),e)),n},c=function(e){var a=p(e.components);return t.createElement(s.Provider,{value:a},e.children)},g="mdxType",u={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},m=t.forwardRef((function(e,a){var n=e.components,l=e.mdxType,r=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),g=p(n),m=l,d=g["".concat(s,".").concat(m)]||g[m]||u[m]||r;return n?t.createElement(d,o(o({ref:a},c),{},{components:n})):t.createElement(d,o({ref:a},c))}));function d(e,a){var n=arguments,l=a&&a.mdxType;if("string"==typeof e||l){var r=n.length,o=new Array(r);o[0]=m;var i={};for(var s in a)hasOwnProperty.call(a,s)&&(i[s]=a[s]);i.originalType=e,i[g]="string"==typeof e?e:l,o[1]=i;for(var p=2;p<r;p++)o[p]=n[p];return t.createElement.apply(null,o)}return t.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9824:(e,a,n)=>{n.r(a),n.d(a,{contentTitle:()=>o,default:()=>g,frontMatter:()=>r,metadata:()=>i,toc:()=>s});var t=n(8168),l=(n(6540),n(5680));const r={sidebar_position:3,title:"Installation"},o=void 0,i={unversionedId:"installation",id:"installation",isDocsHomePage:!1,title:"Installation",description:"Installation using Helm [Kubernetes]",source:"@site/docs/installation.md",sourceDirName:".",slug:"/installation",permalink:"/jagw/docs/next/installation",editUrl:"https://github.com/jalapeno-api-gateway/docs/installation.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"Installation"},sidebar:"tutorialSidebar",previous:{title:"Design Choices",permalink:"/jagw/docs/next/design/design-choices"},next:{title:"Getting Started",permalink:"/jagw/docs/next/getting-started"}},s=[{value:"Installation using Helm Kubernetes",id:"installation-using-helm-kubernetes",children:[{value:"Install Jalapeno",id:"install-jalapeno",children:[]},{value:"Install JAGW",id:"install-jagw",children:[]},{value:"Upgrade JAGW",id:"upgrade-jagw",children:[]},{value:"Delete JAGW",id:"delete-jagw",children:[]}]}],p={toc:s},c="wrapper";function g(e){let{components:a,...n}=e;return(0,l.yg)(c,(0,t.A)({},p,n,{components:a,mdxType:"MDXLayout"}),(0,l.yg)("h2",{id:"installation-using-helm-kubernetes"},"Installation using Helm ","[Kubernetes]"),(0,l.yg)("p",null,"To install the Jalape\xf1o API Gateway you can use the Helm chart template in our ",(0,l.yg)("a",{parentName:"p",href:"https://github.com/jalapeno-api-gateway/jagw-helm"},"GitHub repository"),"."),(0,l.yg)("p",null,"You will require a running ",(0,l.yg)("a",{parentName:"p",href:"https://kubernetes.io/"},"Kubernetes")," cluster before getting started and ",(0,l.yg)("a",{parentName:"p",href:"https://helm.sh/"},"Helm")," needs to be installed locally. If you use the Helm chart as is a Kubernetes load balancer is also required."),(0,l.yg)("h3",{id:"install-jalapeno"},"Install Jalapeno"),(0,l.yg)("p",null,"First, a Jalapeno instance must be installed. You can use the Helm chart template from our ",(0,l.yg)("a",{parentName:"p",href:"https://github.com/jalapeno-api-gateway/jalapeno-helm"},"GitHub repository"),". "),(0,l.yg)("h4",{id:"1-clone-repository"},"1. Clone repository"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/jalapeno-api-gateway/jalapeno-helm\n")),(0,l.yg)("h4",{id:"2-update-values"},"2. Update values"),(0,l.yg)("p",null,"Update the values in ",(0,l.yg)("inlineCode",{parentName:"p"},"jalapeno-helm/values.yaml")," according to your needs."),(0,l.yg)("p",null,"At least change the load balancer IPs for the gobmp and the ingress telegraf collector:"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"collectors.service.gobmp.loadBalancerIP")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"collectors.telegrafIngress.service.loadBalancerIP"))),(0,l.yg)("h4",{id:"3-create-a-namespace"},"3. Create a namespace"),(0,l.yg)("p",null,"Create a new namespace e.g. ",(0,l.yg)("inlineCode",{parentName:"p"},"jalapeno")),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-bash"},"kubectl create namespace jalapeno\n")),(0,l.yg)("h4",{id:"4-install-the-helm-chart"},"4. Install the Helm chart"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-bash"},"helm install jalapeno ./jalapeno-helm -n jalapeno\n")),(0,l.yg)("h3",{id:"install-jagw"},"Install JAGW"),(0,l.yg)("h4",{id:"1-clone-the-repository"},"1. Clone the repository"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/jalapeno-api-gateway/jagw-helm\n")),(0,l.yg)("h4",{id:"2-update-values-1"},"2. Update values"),(0,l.yg)("p",null,"Update the values in ",(0,l.yg)("inlineCode",{parentName:"p"},"jagw/values.yaml")," according to your needs."),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},"inside the ",(0,l.yg)("inlineCode",{parentName:"li"},"config")," section update the credentials and service addresses. Most likely only the namespaces inside the service names need to be adjusted."),(0,l.yg)("li",{parentName:"ul"},"inside the ",(0,l.yg)("inlineCode",{parentName:"li"},"proxy")," section update the service section to your needs. You can use NodePorts or a LoadBalancer to connect to the gateway.")),(0,l.yg)("h4",{id:"3-create-a-namespace-1"},"3. Create a namespace"),(0,l.yg)("p",null,"Create a new namespace for the JAGW (i.e. ",(0,l.yg)("inlineCode",{parentName:"p"},"jagw"),")."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-bash"},"kubectl create namespace jagw\n")),(0,l.yg)("h4",{id:"5-install-the-helm-chart"},"5. Install the Helm chart"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-bash"},"helm install <release-name> jagw --namespace <namespace>\n")),(0,l.yg)("h3",{id:"upgrade-jagw"},"Upgrade JAGW"),(0,l.yg)("p",null,"To upgrade JAGW to the newest stable version, pull the updates from the main branch, reconfigure your parameters in the file ",(0,l.yg)("inlineCode",{parentName:"p"},"jagw/values.yaml")," and then run:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-bash"},"helm upgrade <release-name> jagw --namespace <namespace>\n")),(0,l.yg)("h3",{id:"delete-jagw"},"Delete JAGW"),(0,l.yg)("p",null,"To delete JAGW run these commands:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-bash"},"helm uninstall <release-name> --namespace jagw\nhelm delete namespace jagw\n")))}g.isMDXComponent=!0}}]);